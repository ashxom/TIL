# 2025-09-26

# 람다((lambda) 

| 항목 | 핵심 요약 |
| --- | --- |
| **정의** | “동작(함수)”을 값처럼 넘기는 **짧은 문법**. 익명 내부 클래스의 축약형. |
| **전제 조건** | **SAM(단일 추상 메서드) 인터페이스**여야 함 → `Runnable`, `Comparator`, `View.OnClickListener` 등 |
| **장점** | 코드 짧아짐, 가독성↑, 콜백/리스너 작성 편함 |
| **주의/단점** | 본문이 길면 가독성↓, 지역변수는 *effectively final* (람다 안에서 값 변경 불가), SAM 아닌 인터페이스엔 사용 불가 |
| **언제 쓰면 좋음** | 1~5줄짜리 **짧고 명확한 콜백** / 이벤트 리스너 / 정렬 비교 등 |
| **언제 피함** | 메서드 여러 개인 리스너(`TextWatcher` 등), 로직 긴 경우(함수로 추출 권장), 재사용/테스트 필요한 복잡 로직 |
| **안드로이드 흔한 사용처** | `setOnClickListener`, `postDelayed`, `Executors`, `Collections.sort(…, (a,b)-> …)` |
| **안드로이드 피해야/불가** | `TextWatcher`, `AnimatorListener` 등 **여러 메서드** 리스너(어댑터/헬퍼 클래스로 처리) |
| **필수 세팅** | `build.gradle` → `compileOptions { sourceCompatibility 1.8 / targetCompatibility 1.8 }` |

---

## 예시

| 상황 | 기존(익명 클래스) | 람다 |
| --- | --- | --- |
| 지연 실행 | `new Handler(Looper.getMainLooper()).postDelayed(new Runnable(){ public void run(){ startMain(); }},1000);` | `new Handler(Looper.getMainLooper()).postDelayed(() -> startMain(), 1000);` |
| 클릭 리스너 | `button.setOnClickListener(new View.OnClickListener(){ public void onClick(View v){ open(); }});` | `button.setOnClickListener(v -> open());` |
| 정렬 | `Collections.sort(list, new Comparator<User>(){ public int compare(User a, User b){ return a.age-b.age; }});` | `Collections.sort(list, (a,b) -> a.age - b.age);` |

---

## 한 줄 요약

1. **짧고 명확 + SAM**이면 **람다** 
2. 5줄 이상이면 **메서드 추출 → `this::method`** 
3. **여러 메서드/복잡 로직**이면 **익명/별도 클래스** 

> 보너스: 메서드 레퍼런스
> 
> 
> `v -> open()` → `this::open` / `(a,b) -> a.compareTo(b)` → `String::compareTo`
>
