## 2025-06-30
## activity 생명주기

onCreate() -> onStart() -> onResume() -> onPause() -> onStop() -> onDestory()순으로 실행되며, 경우에 따라서 onRestart() 메소드가 호출되기도 한다.

## OnCreate() (액티비티가 만들어질 때)

이 콜백은 시스템이 먼저 활동을 생성할 때 실행되는 것으로, 필수적으로 구현해야 한다.
활동이 생성되면 생성됨 상태가 된다. OnCreate() 메서드에서 활동의 전체 수명 주기 동안 한 번만 발생해야 하는 기본 애플리케이션 시작 로직을 실행한다.
- 필수적으로 구현해야 한다.
- Activity의 생명주기 중 한 번만 발생해야 하는 로직을 실행
    - 멤버 변수 정의
    - Ui 구성(setContentView, xml 레이아웃 파일 정의)
- saveInstanceState 매개 변수 수신 -> Activity 이전 저장 상태가 포함된 Bundle 객체

## OnStart() (화면에 보이기 시작할 때)

활동이 시작됨 상태에 들어가면 시스템은 이 콜백을 호출한다. OnStart()가 호출되면 활동이 사용자에게 표시되고, 앱은 활동을 포그라운드에 보내 상호작용을 할 수 있도록 준비한다. 예를 들어 이 메서드에서 앱이 UI를 관리하는 코드를 초기화한다.
- Activity가 사용자에게 표시
- 앱은 Activity를 포그라운드로 보내 상호작용을 할 수 있도록 준비

## OnResume() (화면에 나타나 있고 실행 중일 때)

활동이 재개됨 상태에 들어가면 포그라운드에 표시되고 시스템이 OnResume() 콜백을 호출한다. 이 상태에 들어갔을 때에 앱이 사용자와 상호작용 한다. 어떤 이벤트가 발생하여 앱에서 포커스가 떠날 때까지 앱이 이 상태에 머무릅니다. 예를 들어 앱 사용 중에 전화가 오거나, 사용자가 다른 활동으로 이동하거나, 기기 화면이 꺼지는 이벤트가 이에 해당한다.
- Activity가 포그라운드에 표시되어, 사용자와 상호 작용 할 수 있는 상태
- 앱에서 포커스가 떠날 때까지 onResume 상태에 머무름

## OnPause() (액티비티 화면의 일부가 다른 액티비티에 가려짐)

시스템은 사용자가 활동을 떠나는 것을 나타내는 첫 번째 신호로 이 메서드를 호출합니다.(하지만 해당 활동이 항상 소멸되는 것은 아님)
활동이 포그라운드에 있지 않게 되었다는 것을 나타냅니다.(다만 사용자가 멀티 윈도우 모드에 있을 경우에는 여전히 표시 될 수도 있음)
- 사용자가 활동을 떠나는 첫 번째 신호
- 매우 짧음
- 활동이 포그라운드에 있지 않지만, 잠시 후 다시 시작할 작업을 일시중지 하거나 조정
- 이 상태를 통해서, 실행 중이지 않을 때 필요하지 않은 리소를 해지할 수 있음.
- 이 상태에서, 데이터를 저장하거나, 네트워크 호출, DB의 IO작업을 하면 안됨.
    - 매우 짧은 시간이더라도 메서드가 끝나기 전에 Activity가 종료될 수 있음.

## OnStop() (다른 액티비티의 실행으로 완전히 가려짐)

활동이 사용자에게 더 이상 표시되지 않으면 중단됨 상태에 들어가고, 시스템은 OnStop() 콜백을 호출합니다. 이는 예를 들어 새로 시작된 활동이 화면 전체를 차지할 경우에 적용됩니다. 시스템은 활동의 실행이 완료되어 종료될 시점에 OnStop()을 호출할 수도 있습니다.
OnStop() 메서드에서는 앱이 사용자에게 보이지 않는 동안 앱은 필요하지 않은 리소스를 해제하거나 조정해야 합니다. 예를 들어 앱은 애니메이션을 일시중지하거나, 세밀한 위치 업데이트에서 대략적인 위치 업데이트로 전환할 수 있습니다. OnPause() 대신 OnStop()을 사용하면 사용자가 멀티 윈도우 모드에서 활동을 보고 있더라도 UI 관련 작업이 계속 진행됩니다.
- Activity가 사용자에게 더 이상 표시 되지않은 상태
- CPU를 비교적 많이 소모하는 종료 작업을 실행해야 함. ex) DB작업
- Activity가 중단되면, Android OS에서 리소스 관리를 위해, 해당 Activity가 포함된 프로세스를 소멸시킬 수 있음.

## OnDestroy() (액티비티 종료됨)

onDestroy()는 활동이 소멸되기 전에 호출됩니다.
2가지의 경우가 있는데,
1. (사용자가 활동을 완전히 닫거나 활동에서 [finish()](https://developer.android.com/reference/android/app/Activity?hl=ko#finish())가 호출되어) 활동이 종료되는 경우
2. 구성 변경(예: 기기 회전 또는 멀티 윈도우 모드)으로 인해 시스템이 일시적으로 활동을 소멸시키는 경우
